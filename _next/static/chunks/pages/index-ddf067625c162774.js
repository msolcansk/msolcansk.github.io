(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(304)}])},304:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Component}});var r=t(5893),l=t(7294),a=t(1163),i=t(8917),o=t(9324);t(5202);var s=t(2498),c=t(2752),u=t(1963),d=t(3204),m=t(1397),h=t(3793),p=t(9564),f=t(2504),x=t(5059),g=(0,f.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});g.displayName="Center";var v={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,x.G)(function(e,n){let{axis:t="both",...l}=e;return(0,r.jsx)(f.m.div,{ref:n,__css:v[t],...l,position:"absolute"})});var StackItem=e=>(0,r.jsx)(f.m.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});StackItem.displayName="StackItem";var b=t(5432);function mapResponsive(e,n){return Array.isArray(e)?e.map(e=>null===e?null:n(e)):(0,b.Kn)(e)?Object.keys(e).reduce((t,r)=>(t[r]=n(e[r]),t),{}):null!=e?n(e):null}Object.freeze(["base","sm","md","lg","xl","2xl"]);var j="& > *:not(style) ~ *:not(style)",_=(0,x.G)((e,n)=>{let{isInline:t,direction:a,align:i,justify:o,spacing:s="0.5rem",wrap:c,children:u,divider:d,className:m,shouldWrapChildren:h,...p}=e,x=t?"row":null!=a?a:"column",g=(0,l.useMemo)(()=>(function(e){let{spacing:n,direction:t}=e,r={column:{marginTop:n,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:n},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:n,marginStart:0},"row-reverse":{marginTop:0,marginEnd:n,marginBottom:0,marginStart:0}};return{flexDirection:t,[j]:mapResponsive(t,e=>r[e])}})({direction:x,spacing:s}),[x,s]),v=(0,l.useMemo)(()=>(function(e){let{spacing:n,direction:t}=e,r={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(t,e=>r[e])}})({spacing:s,direction:x}),[s,x]),_=!!d,y=!h&&!_,k=(0,l.useMemo)(()=>{let e=l.Children.toArray(u).filter(e=>(0,l.isValidElement)(e));return y?e:e.map((n,t)=>{let a=void 0!==n.key?n.key:t,i=t+1===e.length,o=(0,r.jsx)(StackItem,{children:n},a),s=h?o:n;if(!_)return s;let c=(0,l.cloneElement)(d,{__css:v});return(0,r.jsxs)(l.Fragment,{children:[s,i?null:c]},a)})},[d,v,_,y,h,u]),C=(0,b.cx)("chakra-stack",m);return(0,r.jsx)(f.m.div,{ref:n,display:"flex",alignItems:i,justifyContent:o,flexDirection:g.flexDirection,flexWrap:c,className:C,__css:_?{}:{[j]:g[j]},...p,children:k})});_.displayName="Stack";var y=(0,x.G)((e,n)=>(0,r.jsx)(_,{align:"center",...e,direction:"column",ref:n}));y.displayName="VStack";var k=t(1628),C=t(3179),N=(0,x.G)(function(e,n){let t=(0,k.mq)("Heading",e),{className:l,...a}=(0,C.Lr)(e);return(0,r.jsx)(f.m.h2,{ref:n,className:(0,b.cx)("chakra-heading",e.className),...a,__css:t})});N.displayName="Heading";var B=t(5227),S=t(1103),[I,F]=(0,B.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[E,w]=(0,B.k)({strict:!1,name:"FormControlContext"});(0,x.G)(function(e,n){let t=(0,k.jC)("Form",e),a=(0,C.Lr)(e),{getRootProps:i,htmlProps:o,...s}=function(e){let{id:n,isRequired:t,isInvalid:r,isDisabled:a,isReadOnly:i,...o}=e,s=(0,l.useId)(),c=n||`field-${s}`,u=`${c}-label`,d=`${c}-feedback`,m=`${c}-helptext`,[h,p]=(0,l.useState)(!1),[f,x]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),j=(0,l.useCallback)((e={},n=null)=>({id:m,...e,ref:(0,S.lq)(n,e=>{e&&x(!0)})}),[m]),_=(0,l.useCallback)((e={},n=null)=>({...e,ref:n,"data-focus":(0,b.PB)(g),"data-disabled":(0,b.PB)(a),"data-invalid":(0,b.PB)(r),"data-readonly":(0,b.PB)(i),id:void 0!==e.id?e.id:u,htmlFor:void 0!==e.htmlFor?e.htmlFor:c}),[c,a,g,r,i,u]),y=(0,l.useCallback)((e={},n=null)=>({id:d,...e,ref:(0,S.lq)(n,e=>{e&&p(!0)}),"aria-live":"polite"}),[d]),k=(0,l.useCallback)((e={},n=null)=>({...e,...o,ref:n,role:"group"}),[o]),C=(0,l.useCallback)((e={},n=null)=>({...e,ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!t,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!a,isFocused:!!g,onFocus:()=>v(!0),onBlur:()=>v(!1),hasFeedbackText:h,setHasFeedbackText:p,hasHelpText:f,setHasHelpText:x,id:c,labelId:u,feedbackId:d,helpTextId:m,htmlProps:o,getHelpTextProps:j,getErrorMessageProps:y,getRootProps:k,getLabelProps:_,getRequiredIndicatorProps:C}}(a),c=(0,b.cx)("chakra-form-control",e.className);return(0,r.jsx)(E,{value:s,children:(0,r.jsx)(I,{value:t,children:(0,r.jsx)(f.m.div,{...i({},n),className:c,__css:t.container})})})}).displayName="FormControl",(0,x.G)(function(e,n){let t=w(),l=F(),a=(0,b.cx)("chakra-form__helper-text",e.className);return(0,r.jsx)(f.m.div,{...null==t?void 0:t.getHelpTextProps(e,n),__css:l.helperText,className:a})}).displayName="FormHelperText";var L=(0,x.G)(function(e,n){let{htmlSize:t,...l}=e,a=(0,k.jC)("Input",l),i=(0,C.Lr)(l),o=function(e){let{isDisabled:n,isInvalid:t,isReadOnly:r,isRequired:l,...a}=function(e){var n,t,r;let l=w(),{id:a,disabled:i,readOnly:o,required:s,isRequired:c,isInvalid:u,isReadOnly:d,isDisabled:m,onFocus:h,onBlur:p,...f}=e,x=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==l?void 0:l.hasFeedbackText)&&(null==l?void 0:l.isInvalid)&&x.push(l.feedbackId),(null==l?void 0:l.hasHelpText)&&x.push(l.helpTextId),{...f,"aria-describedby":x.join(" ")||void 0,id:null!=a?a:null==l?void 0:l.id,isDisabled:null!=(n=null!=i?i:m)?n:null==l?void 0:l.isDisabled,isReadOnly:null!=(t=null!=o?o:d)?t:null==l?void 0:l.isReadOnly,isRequired:null!=(r=null!=s?s:c)?r:null==l?void 0:l.isRequired,isInvalid:null!=u?u:null==l?void 0:l.isInvalid,onFocus:(0,b.v0)(null==l?void 0:l.onFocus,h),onBlur:(0,b.v0)(null==l?void 0:l.onBlur,p)}}(e);return{...a,disabled:n,readOnly:r,required:l,"aria-invalid":(0,b.Qm)(t),"aria-required":(0,b.Qm)(l),"aria-readonly":(0,b.Qm)(r)}}(i),s=(0,b.cx)("chakra-input",e.className);return(0,r.jsx)(f.m.input,{size:t,...o,__css:a.field,ref:n,className:s})});L.displayName="Input",L.id="Input";var[R,O]=(0,B.k)({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(e){let{children:n,className:t,...a}=e,i=(0,l.isValidElement)(n)?(0,l.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,o=(0,b.cx)("chakra-button__icon",t);return(0,r.jsx)(f.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:o,children:i})}ButtonIcon.displayName="ButtonIcon";var T=t(295);function ButtonSpinner(e){let{label:n,placement:t,spacing:a="0.5rem",children:i=(0,r.jsx)(T.$,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...c}=e,u=(0,b.cx)("chakra-button__spinner",o),d="start"===t?"marginEnd":"marginStart",m=(0,l.useMemo)(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[d]:n?a:0,fontSize:"1em",lineHeight:"normal",...s}),[s,n,d,a]);return(0,r.jsx)(f.m.div,{className:u,...c,__css:m,children:i})}ButtonSpinner.displayName="ButtonSpinner";var G=(0,x.G)((e,n)=>{let t=O(),a=(0,k.mq)("Button",{...t,...e}),{isDisabled:i=null==t?void 0:t.isDisabled,isLoading:o,isActive:s,children:c,leftIcon:u,rightIcon:d,loadingText:m,iconSpacing:h="0.5rem",type:p,spinner:x,spinnerPlacement:g="start",className:v,as:j,..._}=(0,C.Lr)(e),y=(0,l.useMemo)(()=>{let e={...null==a?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!t&&{_focus:e}}},[a,t]),{ref:N,type:B}=function(e){let[n,t]=(0,l.useState)(!e),r=(0,l.useCallback)(e=>{e&&t("BUTTON"===e.tagName)},[]);return{ref:r,type:n?"button":void 0}}(j),I={rightIcon:d,leftIcon:u,iconSpacing:h,children:c};return(0,r.jsxs)(f.m.button,{ref:(0,S.qq)(n,N),as:j,type:null!=p?p:B,"data-active":(0,b.PB)(s),"data-loading":(0,b.PB)(o),__css:y,className:(0,b.cx)("chakra-button",v),..._,disabled:i||o,children:[o&&"start"===g&&(0,r.jsx)(ButtonSpinner,{className:"chakra-button__spinner--start",label:m,placement:"start",spacing:h,children:x}),o?m||(0,r.jsx)(f.m.span,{opacity:0,children:(0,r.jsx)(ButtonContent,{...I})}):(0,r.jsx)(ButtonContent,{...I}),o&&"end"===g&&(0,r.jsx)(ButtonSpinner,{className:"chakra-button__spinner--end",label:m,placement:"end",spacing:h,children:x})]})});function ButtonContent(e){let{leftIcon:n,rightIcon:t,children:l,iconSpacing:a}=e;return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(ButtonIcon,{marginEnd:a,children:n}),l,t&&(0,r.jsx)(ButtonIcon,{marginStart:a,children:t})]})}G.displayName="Button";var q=(0,x.G)(function(e,n){let{htmlWidth:t,htmlHeight:l,alt:a,...i}=e;return(0,r.jsx)("img",{width:t,height:l,ref:n,alt:a,...i})});q.displayName="NativeImage";var P=t(6245),shouldShowFallbackImage=(e,n)=>"loaded"!==e&&"beforeLoadOrError"===n||"failed"===e&&"onError"===n,A=(0,x.G)(function(e,n){let{fallbackSrc:t,fallback:a,src:i,srcSet:o,align:s,fit:c,loading:u,ignoreFallback:d,crossOrigin:m,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:p,...x}=e,g=null!=u||d||!(void 0!==t||void 0!==a),v=function(e){let{loading:n,src:t,srcSet:r,onLoad:a,onError:i,crossOrigin:o,sizes:s,ignoreFallback:c}=e,[u,d]=(0,l.useState)("pending");(0,l.useEffect)(()=>{d(t?"loading":"pending")},[t]);let m=(0,l.useRef)(),h=(0,l.useCallback)(()=>{if(!t)return;flush();let e=new Image;e.src=t,o&&(e.crossOrigin=o),r&&(e.srcset=r),s&&(e.sizes=s),n&&(e.loading=n),e.onload=e=>{flush(),d("loaded"),null==a||a(e)},e.onerror=e=>{flush(),d("failed"),null==i||i(e)},m.current=e},[t,o,r,s,a,i,n]),flush=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return(0,P.G)(()=>{if(!c)return"loading"===u&&h(),()=>{flush()}},[u,h,c]),c?"loaded":u}({...e,crossOrigin:m,ignoreFallback:g}),b=shouldShowFallbackImage(v,h),j={ref:n,objectFit:c,objectPosition:s,...g?x:function(e,n=[]){let t=Object.assign({},e);for(let e of n)e in t&&delete t[e];return t}(x,["onError","onLoad"])};return b?a||(0,r.jsx)(f.m.img,{as:q,className:"chakra-image__placeholder",src:t,...j}):(0,r.jsx)(f.m.img,{as:q,src:i,srcSet:o,crossOrigin:m,loading:u,referrerPolicy:p,className:"chakra-image",...j})});A.displayName="Image";var D=t(9008),W=t.n(D);function Component(){let e=(0,l.useContext)(o.sA),n=(0,a.useRouter)(),{colorMode:t,toggleColorMode:f}=(0,s.If)(),x=(0,l.useRef)(),[v,b]=(0,l.useContext)(o.DR);return(0,l.useEffect)(()=>{x.current&&x.current.focus()}),(0,l.useEffect)(()=>{let change_complete=()=>v(o.Xs.map(e=>({...e})));return n.events.on("routeChangeComplete",change_complete),()=>{n.events.off("routeChangeComplete",change_complete)}},[n]),(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(l.Fragment,{children:(0,i.oA)(null!==b)?(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(c.u_,{isOpen:null!==b,children:(0,r.jsx)(u.Z,{children:(0,r.jsxs)(d.h,{children:[(0,r.jsx)(m.x,{children:"Connection Error"}),(0,r.jsx)(h.f,{children:(0,r.jsxs)(p.x,{children:["Cannot connect to server: ",null!==b?b.message:"",". Check if server is reachable at ","http://localhost:8000"]})})]})})})}):(0,r.jsx)(l.Fragment,{})}),(0,r.jsx)(g,{sx:{width:"100%",height:"100vh"},children:(0,r.jsxs)(y,{sx:{padding:"2em",shadow:"lg",borderRadius:"lg"},children:[(0,r.jsx)(N,{children:"DALL\xb7E"}),(0,r.jsx)(L,{onBlur:e=>v([(0,i.ju)("state.set_prompt",{value:e.target.value})],e),placeholder:"Enter a prompt",type:"text"}),(0,r.jsx)(G,{isLoading:e.processing,onClick:e=>v([(0,i.ju)("state.get_image",{})],e),sx:{width:"100%"},children:"Generate Image"}),(0,r.jsx)(l.Fragment,{children:(0,i.oA)(e.complete)?(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(A,{src:e.image_url,sx:{height:"25em",width:"25em"}})}):(0,r.jsx)(l.Fragment,{})})]})}),(0,r.jsxs)(W(),{children:[(0,r.jsx)("title",{children:"reflex:DALL\xb7E"}),(0,r.jsx)("meta",{content:"A Reflex app.",name:"description"}),(0,r.jsx)("meta",{content:"favicon.ico",property:"og:image"})]})]})}}},function(e){e.O(0,[442,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);